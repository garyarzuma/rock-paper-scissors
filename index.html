<html>
<body>

<button class="weaponButton">Rock</button>
<button class="weaponButton">Scissor</button>
<button class="weaponButton">Paper</button>

</body>

<div>Round 1 Player: 0 Computer:0</div>

</html>


<style>




</style>


<script>
let playerScore = 0;
let compScore = 0;
let roundNum = 1;
console.log(playerScore + "   " + compScore + "   " + roundNum);

document.querySelectorAll('.weaponButton').forEach(button => button.addEventListener('click', singleRound));

function singleRound(e){
    const playPick = e.target.textContent;
    const roundResultNode = document.createElement('div');
    const roundResultText = findWinner(playPick, computerPlay());

    roundResultNode.textContent = roundResultText;
    document.querySelector("body").appendChild(roundResultNode)
    game(roundResultText);
}

function endGame(){
    const endGameNode = document.createElement('div');

    let winnerText = "It's a tie!";
        if(playerScore > compScore){ //computes the winner of the game and displays final game message 
            winnerText = "Player Wins!";
        } else if (playerScore < compScore) {
            winnerText = "Computer Wins!";
        } 
    endGameNode.textContent = winnerText;
    document.querySelector("body").appendChild(endGameNode);

    //Reset Score at end of game
    roundNum = 1;
    playerScore = 0;
    compScore = 0;
}

function displayScore(){
    const roundScoreNode = document.createElement('div');
    roundScoreNode.textContent = "Round "+ roundNum + " Player: " + playerScore + " Computer: " + compScore;
    document.querySelector("body").appendChild(roundScoreNode);
}


function game(roundResult){
    switch(roundResult){         /*uses the results string to increment correct score*/       
        case "You Win! Rock beats Scissor": 
        case "You Win! Scissor beats Paper":
        case "You Win! Paper beats Rock":
            {playerScore++; break;}
        case "You Lose! Rock beats Scissor": 
        case "You Lose! Scissor beats Paper":
        case "You Lose! Paper beats Rock":
            {++compScore; break;}
        };

    roundNum++;

    if(roundNum > 5) endGame();
    else displayScore();
}

    /*Returns the random selection for computer*/
    function computerPlay(){         
        let num = Math.floor(Math.random()*3);
        switch(num){
            case 0: return 'Rock';
            case 1: return 'Paper';
            default: return 'Scissor';
        }
    }
    /*Plays through one single round returning the text response of the winner*/
    function findWinner(playerSelection, computerSelection){
        let response; 
        playerSelection = playerSelection.toLowerCase(); /*lower cases the entire input to allow for any capitlizations on input from user*/
        switch(playerSelection){ 
            case'rock':{
                if(computerSelection === 'Paper'){
                    response = "You Lose! Paper beats Rock";
                } else if(computerSelection === 'Scissor'){
                    response = "You Win! Rock beats Scissor"
                } else response = "It's a tie!";
            break;
            }
            case 'scissor':{
                if(computerSelection === 'Paper'){
                    response = "You Win! Scissor beats Paper";
                } else if(computerSelection === 'Rock'){
                    response = "You Lose! Rock beats Scissor"
                } else response = "It's a tie!";
            break;
            }
            case 'paper' :{
                if(computerSelection === 'Rock'){
                    response = "You Win! Paper beats Rock";
                } else if(computerSelection === 'Scissor'){
                    response = "You Lose! Scissor beats Paper"
                } else response = "It's a tie!";
                break;
            }
            //default: response = "Invalid response!"; /*default response if user doesn't spell correctly*/
        }
        return response;
    }


</script>